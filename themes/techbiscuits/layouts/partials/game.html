<style>
    #game-container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin: 20px 0;
    }
    .game-cell {
      width: 100px;
      height: 100px;
      background-color: #eee;
      cursor: pointer;
      transition: background-color 0.3s;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    .game-cell:hover {
      background-color: #ddd;
    }
    .game-cell i {
      font-size: 2rem;
      color: #333;
    }
    .cover {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #eee;
      font-size: 2rem;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    .shake {
      animation: shake 0.5s;
    }
    .pulse {
      animation: pulse 0.5s;
    }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const gameContainer = document.getElementById('game-container');
      const attemptsDisplay = document.getElementById('attempts');
      const retryButton = document.getElementById('retry-button');
      let attempts = 0;
      const gridSize = 3;
      let bugIndex;
  
      function initGame() {
        gameContainer.innerHTML = '';
        attempts = 0;
        attemptsDisplay.textContent = 'Attempts: 0';
        bugIndex = Math.floor(Math.random() * (gridSize * gridSize));
        for (let i = 0; i < gridSize * gridSize; i++) {
          const cell = document.createElement('div');
          cell.classList.add('game-cell');
          cell.setAttribute('tabindex', '0');
          const cover = document.createElement('i');
          cover.classList.add('fas', 'fa-question', 'cover');
          cell.appendChild(cover);
          const icon = document.createElement('i');
          icon.classList.add('fas', i === bugIndex ? 'fa-cookie-bite' : 'fa-code');
          icon.style.display = 'none';
          cell.appendChild(icon);
          cell.addEventListener('click', function() {
            attempts++;
            attemptsDisplay.textContent = `Attempts: ${attempts}`;
            cover.style.display = 'none';
            icon.style.display = 'block';
            if (i === bugIndex) {
              cell.classList.add('pulse');
              setTimeout(function() {
                alert('You found the biscuit! Great job!');
                window.location.href = '/';
              }, 500);
            } else {
              cell.classList.add('shake');
              setTimeout(function() {
                cell.classList.remove('shake');
                cover.style.display = 'block';
                icon.style.display = 'none';
              }, 1000);
            }
          });
          cell.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
              cell.click();
            }
          });
          gameContainer.appendChild(cell);
        }
      }
  
      initGame();
  
      retryButton.addEventListener('click', initGame);
    });
  </script>